{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/index.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/utils/parseViewBox.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js"],"names":["MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","ALIGN_COVER","INITIAL_VALUE","VERSION","DEFAULT_MODE","getDefaultValue","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","version","mode","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","value","patch","action","Object","assign","freeze","isValueValid","hasOwnProperty","getSVGPoint","viewerX","viewerY","matrix","inverseMatrix","x","y","decompose","scaleFactor","a","translationX","e","translationY","f","setFocus","setViewerSize","setSVGViewBox","setZoomLevels","setPointOnViewerCenter","SVGPointX","SVGPointY","zoomLevel","reset","resetMode","isZoomLevelGoingOutOfBounds","curScaleFactor","lessThanScaleFactorMin","moreThanScaleFactorMax","limitZoomLevel","scaleLevel","Math","max","min","d","zoom","fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","fitToViewer","SVGAlignX","SVGAlignY","scaleMatrix","translateX","translateY","remainderY","round","remainderX","translationMatrix","zoomOnViewerCenter","SVGPoint","startZooming","updateZooming","Error","stopZooming","TOLERATED_DISTANCE","start","end","abs","box","width","height","getMousePosition","event","ViewerDOM","getBoundingClientRect","left","top","clientX","clientY","onMouseDown","tool","props","coords","nextValue","preventDefault","onMouseMove","forceExit","buttons","preventPanOutside","undefined","onMouseUp","onDoubleClick","disableDoubleClickZoomWithToolAuto","modifierKeys","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","reduce","onWheel","detectWheel","delta","deltaY","scaleFactorOnWheel","onMouseEnterOrLeave","type","onInterval","indexOf","detectAutoPan","pan","SVGDeltaX","SVGDeltaY","panLimit","x1","y1","x2","y2","moveX","moveY","startPanning","updatePanning","deltaX","stopPanning","autoPanIfNeeded","openMiniature","closeMiniature","github_base","doc_v1_to_v2","doc_v2_to_v3","tipNoViewer","console","error","tipControlledComponent","tipDeprecatedMiniatureProps","tipDeprecateToolbarProps","printMigrationTipsRelatedToProps","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","toolbarPosition","ReactSVGPanZoom","context","children","SVGViewBox","viewBox","defaultValue","state","pointerX","pointerY","autoPanLoop","bind","process","prevProps","getValue","needUpdate","setValue","autoPanIsRunning","requestAnimationFrame","addEventListener","removeEventListener","onChangeValue","onZoom","onPan","getTool","target","eventsHandler","click","onClick","dblclick","mousemove","mouseup","mousedown","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","onEventHandler","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","cursor","blockChildEvents","touchAction","detectPinchGesture","style","display","position","className","handleViewerEvent","setState","background","pointerEvents","SVGBackground","SVGStyle","toolbarProps","onChangeTool","miniatureProps","React","Component","propTypes","PropTypes","number","isRequired","oneOfType","object","shape","oneOf","bool","b","c","func","string","array","element","activeToolColor","propName","componentName","prop","types","Children","count","join","defaultProps","disableZoomWithToolAuto","Toolbar","Miniature","ViewerEvent","originalEvent","SVGViewer","stopPropagation","_cacheDecomposedValue","calculateBox","uid","nextUID","RandomUID","WrappedComponent","displayName","handleChangeTool","handleFit","isHorizontal","transform","right","bottom","backgroundColor","borderRadius","flexDirection","padding","ratio","zoomToFit","overflow","outline","transition","centerTranslation","Viewer","isNullOrUndefined","eventFactory","eventType","ViewerMouseEvent","ViewerTouchEvent","_cachePoint","mousePosition","point","mapRange","sourceStart","sourceEnd","targetStart","targetEnd","_cachePoints","touchesToPoints","touches","_cacheChangedPoints","changedTouches","points","i","length","touch","rect","push","identifier","parseViewBox","viewBoxString","split","filter","Boolean","map","Number","getTouchPosition","isMultiTouch","onMultiTouch","onSingleTouch","shouldResetPinchPointDistance","hasPinchPointDistance","nextValueFn","touchPosition","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","needPrefix","userAgent","navigator","toLowerCase","isFirefox","isWebkit","prefixID","BorderGradient","direction","_uid","gradientID","maskID","stroke","fill","mask","getDisplayName","name","Selection","IconCursor","IconPan","IconZoomIn","IconZoomOut","IconFit","ToolbarButton","hover","margin","color","active","activeColor","border","change","title","isTouchDevice","window","maxTouchPoints","MiniatureToggleButton","IconArrow","open","MiniatureMask","opacity","UncontrolledReactSVGPanZoom","defaultTool","changeTool","changeValue"],"mappings":"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CA;AACA,IAAI;AACJ;AACO;AACP;AACA,gEAAgE,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP;;AAEA,SAAS,mBAAmB;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;;AClB6C;;AAE7C;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,QAAQ;AACpB;;AAEO;AACP,SAAS,QAAQ;AACjB;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;;;ACtBA;AACA;AACA,cAAc,OAAO;AACrB,oBAAoB,OAAO;AAC3B,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA,oBAAoB,qBAAqB;AACzC,aAAa,OAAO;AACpB;AACO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,qBAAqB;AACzC,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC5CqC;AACE;AACA;;AAEvC,OAAO,eAAe;AACtB;AACA;AACA,iBAAiB,OAAO;AACxB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW,QAAQ,WAAW;AACpC;AACA;;AAEA,SAAS,SAAS;AAClB,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC3CqC;;AAErC;AACA;AACA,cAAc,OAAO;AACrB,qBAAqB,OAAO;AAC5B,aAAa,OAAO;AACpB;AACO;AACP,MAAM,WAAW;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClBA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA,OAAO,MAAM;;AAEb;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC5BA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO,SAAS,iBAAQ;AACxB,mBAAmB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACxF;;;ACzBA;AACA;AACA,kBAAkB,OAAO;AACzB,uBAAuB,OAAO;AAC9B,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfmC;AACI;AACM;;AAE7C;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,aAAa,OAAO;AACpB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B,uBAAuB,SAAS;;AAEhC;AACA,SAAS,YAAY;AACrB;;;ACpDyC;AACF;AACR;AACK;AACJ;AACD;;AAE/B;AACA;AACA,yCAAyC,SAAS;AAClD,aAAa,SAAS;AACtB;AACA;AACA;AACA,KAAK,+CAA+C;AACpD,KAAK,oCAAoC;AACzC,KAAK,8BAA8B;AACnC,KAAK,4CAA4C;AACjD,KAAK,2BAA2B;AAChC,KAAK,4BAA4B;AACjC,KAAK;AACL;AACA;AACA;AACA,KAAK,qCAAqC;AAC1C,KAAK,uCAAuC;AAC5C,KAAK,qCAAqC;AAC1C,KAAK,8CAA8C;AACnD,KAAK,0CAA0C;AAC/C,KAAK,wCAAwC;AAC7C,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B,SAAS;AACT;AACA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;;AAEhD,eAAe,SAAS;;AAExB;AACA;;AAEA,uCAAuC,KAAK;;AAE5C,eAAe,KAAK;;AAEpB;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA,eAAe,SAAS;;AAExB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,KAAK;;AAEpB;AACA;AACA;AACA;AACA;;;AC3FA;;AAEA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB,EAAE;AACjF,sDAAsD,yBAAyB,EAAE;AACjF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB,EAAE;AACjF,sDAAsD,yBAAyB,EAAE;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,WAAW;AACxC,gCAAgC;AAChC;AACA,iBAAiB,mDAAmD;AACpE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,6BAA6B;AACzD,6BAA6B,UAAU;AACvC,kCAAkC,iBAAiB;AACnD,8BAA8B,oBAAoB;AAClD,kCAAkC,6DAA6D;AAC/F,6BAA6B,mBAAmB;;AAEhD;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,iCAAiC;AACxD;;AAEA;AACA;;AAEA,gCAAgC,QAAQ;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C;AACA;AACA,gDAAgD;AAChD,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAKE;;AAEa;AACf;AACA;AACA,CAAC,EAAC;;;AC16C4D;;AAE9D;AACA;AACA;AACA,2BA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","file":"react-svg-pan-zoom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\nexport const ALIGN_COVER = 'cover';\n\nexport const INITIAL_VALUE = {}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import {MODE_IDLE} from '../constants';\nimport {applyToPoint, fromObject, identity, inverse, scale, transform, translate} from 'transformation-matrix';\n\nconst VERSION = 3\nexport const DEFAULT_MODE = MODE_IDLE\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin = null, scaleFactorMax = null) {\n  return set({}, {\n    ...identity(),\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGMinX,\n    SVGMinY,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch, action = null) {\n  value = Object.assign({}, value, patch, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version')\n    && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {SVGMinX, SVGMinY, SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point) ? [\n    matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n    matrix.b * point[0] + matrix.d * point[1] + matrix.f\n  ] : {\n    x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n    y: matrix.b * point.x + matrix.d * point.y + matrix.f\n  }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined) {\n  if (isUndefined(sy)) sy = sx\n  return {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by PEG.js v0.11.0-master.30f3260, https://pegjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.location = location;\n  this.name = \"SyntaxError\";\n\n  // istanbul ignore next\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    },\n\n    not: function(expectation) {\n      return \"not \" + describeExpectation(expectation.expected);\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e11 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e12 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e13 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n        return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n      };\n  var peg$f3 = function(tx, ty) {\n        var t = {type: 'translate', tx: tx};\n        if (ty) t.ty = ty;\n        return [t];\n      };\n  var peg$f4 = function(sx, sy) {\n        var s = {type:'scale', sx: sx};\n        if (sy) s.sy = sy;\n        return [s];\n      };\n  var peg$f5 = function(angle, c) {\n        var r = {type:'rotate', angle: angle};\n        if (c) {\n          r.cx = c[0];\n          r.cy = c[1];\n        }\n        return [r];\n      };\n  var peg$f6 = function(angle) {\n        return [{type: 'skewX', angle: angle}];\n      };\n  var peg$f7 = function(angle) {\n        return [{type: 'skewY', angle: angle}];\n      };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f14 = function(d) { return d.join(\"\"); };\n\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$expected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return [peg$savedPos, peg$currPos];\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  var peg$VALIDFILENAME = typeof options.filename === \"string\" && options.filename.length > 0;\n  function peg$computeLocation(startPos, endPos) {\n    var loc = {};\n\n    if ( peg$VALIDFILENAME ) loc.filename = options.filename;\n\n    var startPosDetails = peg$computePosDetails(startPos);\n    loc.start = {\n      offset: startPos,\n      line: startPosDetails.line,\n      column: startPosDetails.column\n    };\n\n    var endPosDetails = peg$computePosDetails(endPos);\n    loc.end = {\n      offset: endPos,\n      line: endPosDetails.line,\n      column: endPosDetails.column\n    };\n\n    return loc;\n  }\n\n  function peg$begin() {\n    peg$expected.push({ pos: peg$currPos, variants: [] });\n  }\n\n  function peg$expect(expected) {\n    var top = peg$expected[peg$expected.length - 1];\n\n    if (peg$currPos < top.pos) { return; }\n\n    if (peg$currPos > top.pos) {\n      top.pos = peg$currPos;\n      top.variants = [];\n    }\n\n    top.variants.push(expected);\n  }\n\n  function peg$end(invert) {\n    var expected = peg$expected.pop();\n    var top = peg$expected[peg$expected.length - 1];\n    var variants = expected.variants;\n\n    if (top.pos !== expected.pos) { return; }\n\n    if (invert) {\n      variants = variants.map(function(e) {\n        return e.type === \"not\" ? e.expected : { type: \"not\", expected: e };\n      });\n    }\n\n    Array.prototype.push.apply(top.variants, variants);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$buildError() {\n    var expected = peg$expected[0];\n    var failPos = expected.pos;\n\n    return peg$buildStructuredError(\n      expected.variants,\n      failPos < input.length ? input.charAt(failPos) : null,\n      failPos < input.length\n        ? peg$computeLocation(failPos, failPos + 1)\n        : peg$computeLocation(failPos, failPos)\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e0);\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              rule$expects(peg$e2);\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e3);\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e4);\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e5);\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e6);\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e7);\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e8);\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s1 = [s1, s2];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e9);\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f13(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e10);\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        s1 = [s1, s2, s3];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e11);\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e12);\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e13);\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  peg$begin();\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$expect(peg$endExpectation());\n    }\n\n    throw peg$buildError();\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n  peg$parse as parse\n};\n\nexport default {\n  SyntaxError: peg$SyntaxError,\n  parse: peg$parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","export * from './applyToPoint'\nexport * from './fromObject'\nexport * from './fromString'\nexport * from './identity'\nexport * from './inverse'\nexport * from './isAffineMatrix'\nexport * from './rotate'\nexport * from './scale'\nexport * from './shear'\nexport * from './skew'\nexport * from './toString'\nexport * from './transform'\nexport * from './translate'\nexport * from './fromTriangles'\nexport * from './smoothMatrix'\nexport * from './fromDefinition'\nexport * from './fromTransformAttribute'\n","import {fromObject, scale, transform, translate} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER\n} from '../constants';\nimport {decompose, getSVGPoint, set} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  const {scaleFactor: curScaleFactor} = decompose(value)\n  const lessThanScaleFactorMin = value.scaleFactorMin && (curScaleFactor * scaleFactor) < value.scaleFactorMin;\n  const moreThanScaleFactorMax = value.scaleFactorMax && (curScaleFactor * scaleFactor) > value.scaleFactorMax;\n\n  return (lessThanScaleFactorMin && scaleFactor < 1) || (moreThanScaleFactorMax && scaleFactor > 1);\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n if (scaleX < scaleY) {\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        let remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  } else {\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        let remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(remainderY / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  const TOLERATED_DISTANCE = 7 //minimum distance to choose if area selection or drill down on point\n  let {startX, startY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n","import {MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,} from '../constants';\nimport {getSVGPoint, setFocus} from './common';\nimport {autoPanIfNeeded, startPanning, stopPanning, updatePanning} from './pan';\nimport {startZooming, stopZooming, updateZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\nexport function getMousePosition(event, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = event.clientX - Math.round(left);\n  let y = event.clientY - Math.round(top);\n  return {x, y}\n}\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    const {modifierKeys = []} = props;\n    let SVGPoint = getSVGPoint(value, x, y);\n    let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n    let modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints} from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: value.SVGMinX + panLimit, y: value.SVGMinY + panLimit},\n      {x: value.SVGMinX + value.SVGWidth - panLimit, y: value.SVGMinY + value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/master'\n\nconst doc_v1_to_v2 = github_base + '/docs/migrate-from-v1-to-v2.md'\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipNoViewer() {\n  console.error(`HEY! You are trying to use an older version of ReactSVGPanZoom. Please read here ${doc_v1_to_v2}`)\n}\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGViewBox,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {viewBox: SVGViewBox} = children.props;\n    let defaultValue;\n    if (SVGViewBox) {\n      const [SVGMinX, SVGMinY, SVGWidth, SVGHeight] = parseViewBox(SVGViewBox);\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    } else {\n      const {width: SVGWidth, height: SVGHeight} = children.props;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    // This block checks the size of the SVG\n    const {viewBox: SVGViewBox} = props.children.props;\n    if (SVGViewBox) {\n      // if the viewBox prop is specified\n      const [x, y, width, height] = parseViewBox(SVGViewBox);\n\n      if(value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n        nextValue = setSVGViewBox(nextValue, x, y, width, height);\n        needUpdate = true;\n      }\n    } else {\n      // if the width and height props are specified\n      const {width: SVGWidth, height: SVGHeight} = props.children.props;\n      if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n        nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n        needUpdate = true;\n      }\n    }\n\n    // This block checks the size of the viewer\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    // This blocks checks the scale factors\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n    this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n    this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  onWheel(event) {\n    let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n    if (this.getValue() !== nextValue) this.setValue(nextValue);\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={value.SVGMinX || 0}\n              y={value.SVGMinY || 0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //value of the viewer (current camera view)\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGMinX: PropTypes.number.isRequired,\n      SVGMinY: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  //handler something changed\n  onChangeValue: PropTypes.func.isRequired,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //style of the svg\n  SVGStyle: PropTypes.object,\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n\n  //handler pan action performed\n  onPan: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature props\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string,\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  customToolbar: Toolbar,\n  toolbarProps: {},\n  customMiniature: Miniature,\n  miniatureProps: {},\n};\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, activeToolColor, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        activeColor={activeToolColor}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        activeColor={activeToolColor}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        activeColor={activeToolColor}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\n\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP,\n  activeToolColor: '#1CA6FC'\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, children, position, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGMinX, SVGMinY, SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80,\n}\n","import {tipNoViewer} from \"./migration-tips\";\n\nexport {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  tipNoViewer()\n  return null;\n};\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import ViewerEvent from './viewer-event';\nimport {getMousePosition} from \"../features/interactions\";\nimport {getSVGPoint} from \"../features/common\";\n\nexport default class ViewerMouseEvent extends ViewerEvent {\n  get point() {\n    if (!this._cachePoint) {\n      const {originalEvent: event, SVGViewer, value} = this;\n      const mousePosition = getMousePosition(event, SVGViewer)\n      this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number); // cast to Number\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n      default:\n        //noop\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button type=\"button\" style={style} onClick={() => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n\n    default:\n      //no op\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n"],"sourceRoot":""}