{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/index.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/utils/parseViewBox.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","viewerWidth","viewerHeight","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleFactorMin","scaleFactorMax","set","identity","version","DEFAULT_MODE","focus","pinchPointDistance","prePinchMode","startX","startY","endX","endY","miniatureOpen","lastAction","viewerX","viewerY","matrix","fromObject","inverseMatrix","inverse","applyToPoint","x","y","scaleFactor","a","translationX","e","translationY","f","SVGPointX","SVGPointY","zoomLevel","transform","translate","scale","MODE_IDLE","patch","action","assign","freeze","point","Array","isArray","b","applyToPoints","points","map","parseFloat","matrixRegex","fromString","string","parsed","match","length","Error","denom","isUndefined","val","isNumeric","Number","isNaN","isFinite","isAffineMatrix","obj","tx","ty","matrices","multiply","m1","m2","rest","compose","cos","sin","PI","Math","rotate","angle","cx","cy","cosAngle","sinAngle","rotationMatrix","rotateDEG","sx","sy","shear","shx","shy","tan","skew","ax","ay","skewDEG","toCSS","toSVG","smoothMatrix","precision","round","fromTriangles","t1","t2","px1","py1","px2","py2","qx1","qy1","qx2","qy2","rx1","ry1","rx2","ry2","fromDefinition","definitionOrArrayOfDefinition","mapper","descriptor","type","peg$SyntaxError","message","expected","found","location","this","captureStackTrace","peg$parse","input","options","undefined","peg$result","peg$FAILED","peg$startRuleFunctions","transformList","peg$parsetransformList","peg$startRuleFunction","peg$r0","peg$r1","peg$r2","peg$r3","peg$e0","peg$literalExpectation","peg$e1","peg$e2","peg$e3","peg$e4","peg$e5","peg$e6","peg$e7","peg$e8","peg$e9","peg$otherExpectation","peg$e10","peg$classExpectation","peg$e11","peg$e12","peg$e13","peg$currPos","peg$posDetailsCache","line","column","peg$expected","peg$silentFails","startRule","text","ignoreCase","parts","inverted","description","peg$computePosDetails","pos","details","charCodeAt","peg$VALIDFILENAME","filename","peg$computeLocation","startPos","endPos","loc","startPosDetails","start","offset","endPosDetails","end","peg$expect","top","variants","push","peg$buildStructuredError","buildMessage","s0","s1","s2","s3","s4","peg$parsewsp","peg$parsetransforms","peg$parsetransform","peg$parsecommaWsp","ts","concat","s5","s7","s9","s11","s13","s15","s16","s17","rule$expects","substr","peg$parsenumber","peg$parsematrix","s6","s8","peg$parsecommaWspNumber","peg$parsetranslate","peg$parsescale","peg$parsecommaWspTwoNumbers","peg$parserotate","peg$parseskewX","peg$parseskewY","peg$parsesign","peg$parsedigitSequence","d2","d1","join","peg$parsefractionalConstant","peg$parseexponent","peg$parsefloatingPointConstant","peg$parseintegerConstant","parseInt","peg$parsecomma","test","charAt","peg$parsedigit","failPos","peg$buildError","child","parent","C","constructor","peg$subclass","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","class","escapedParts","part","classEscape","any","other","not","describeExpectation","hex","ch","toString","toUpperCase","replace","j","descriptions","sort","slice","describeExpected","describeFound","fromTransformAttribute","transformString","SVGAlignX","ALIGN_LEFT","SVGAlignY","ALIGN_TOP","scaleX","scaleY","scaleLevel","min","scaleMatrix","translateX","translateY","remainderY","ALIGN_CENTER","ALIGN_BOTTOM","ALIGN_COVER","remainderX","ALIGN_RIGHT","translationMatrix","isZoomLevelGoingOutOfBounds","limitZoomLevel","ACTION_ZOOM","SVGPoint","getSVGPoint","zoom","MODE_ZOOMING","abs","box","fitSelection","width","height","curScaleFactor","decompose","lessThanScaleFactorMin","moreThanScaleFactorMax","max","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","event","ViewerDOM","tool","props","coords","getMousePosition","nextValue","TOOL_ZOOM_OUT","TOOL_ZOOM_IN","startZooming","TOOL_AUTO","TOOL_PAN","startPanning","preventDefault","forceExit","buttons","stopZooming","updateZooming","MODE_PANNING","stopPanning","updatePanning","preventPanOutside","disableDoubleClickZoomWithToolAuto","modifierKeys","modifierKeysReducer","current","modifierKey","getModifierState","modifierKeyActive","reduce","detectWheel","delta","deltaY","scaleFactorOnWheel","setFocus","TOOL_NONE","indexOf","detectAutoPan","autoPanIfNeeded","getBoundingClientRect","left","clientX","clientY","ACTION_PAN","panLimit","deltaX","pan","SVGDeltaX","SVGDeltaY","x1","y1","x2","y2","moveX","moveY","console","error","github_base","isNullOrUndefined","tipControlledComponent","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","tipDeprecatedMiniatureProps","toolbarPosition","tipDeprecateToolbarProps","doc_v2_to_v3","ReactSVGPanZoom","context","defaultValue","children","SVGViewBox","viewBox","getDefaultValue","state","pointerX","pointerY","autoPanLoop","onWheel","prevProps","getValue","needUpdate","setSVGViewBox","setViewerSize","setZoomLevels","setValue","autoPanIsRunning","requestAnimationFrame","addEventListener","removeEventListener","isValueValid","onChangeValue","onZoom","onPan","fitToViewer","zoomOnViewerCenter","setPointOnViewerCenter","reset","openMiniature","closeMiniature","getTool","target","onEventHandler","click","onClick","dblclick","onDoubleClick","mousemove","onMouseMove","mouseup","onMouseUp","mousedown","onMouseDown","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","onInterval","cursor","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","style","display","touchAction","detectPinchGesture","position","className","ref","handleViewerEvent","setState","onMouseEnter","onMouseEnterOrLeave","onMouseLeave","fill","background","pointerEvents","SVGBackground","SVGStyle","direction","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","toolbarProps","POSITION_NONE","onChangeTool","miniatureProps","React","Component","propTypes","PropTypes","number","isRequired","oneOfType","shape","oneOf","bool","func","array","element","activeToolColor","propName","componentName","prop","types","Children","count","defaultProps","disableZoomWithToolAuto","Toolbar","Miniature","ViewerEvent","originalEvent","SVGViewer","stopPropagation","_cacheDecomposedValue","WrappedComponent","RandomUID","uid","nextUID","_uid","displayName","handleChangeTool","isHorizontal","right","bottom","backgroundColor","borderRadius","flexDirection","padding","role","active","activeColor","title","handleFit","ratio","zoomToFit","overflow","outline","transition","centerTranslation","tipNoViewer","eventType","ViewerMouseEvent","ViewerTouchEvent","_cachePoint","mousePosition","sourceStart","sourceEnd","targetStart","targetEnd","touches","touch","rect","identifier","_cachePoints","touchesToPoints","_cacheChangedPoints","changedTouches","viewBoxString","split","filter","Boolean","isMultiTouch","onMultiTouch","resetMode","onSingleTouch","hasPinchPointDistance","shouldResetPinchPointDistance","nextValueFn","touchPosition","getTouchPosition","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","needPrefix","userAgent","navigator","toLowerCase","prefixID","BorderGradient","gradientID","maskID","id","spreadMethod","stopColor","stopOpacity","stroke","mask","Selection","strokeOpacity","fillOpacity","ToolbarButton","hover","margin","color","border","change","maxTouchPoints","MiniatureToggleButton","open","IconArrow","MiniatureMask","opacity","UncontrolledReactSVGPanZoom","defaultTool","Viewer","changeTool","changeValue"],"mappings":"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","file":"react-svg-pan-zoom.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\nexport const ALIGN_COVER = 'cover';\n\nexport const INITIAL_VALUE = {}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import {MODE_IDLE} from '../constants';\nimport {applyToPoint, fromObject, identity, inverse, scale, transform, translate} from 'transformation-matrix';\n\nconst VERSION = 3\nexport const DEFAULT_MODE = MODE_IDLE\n\n/**\n * Obtain default value\n * @returns {Object}\n */\nexport function getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin = null, scaleFactorMax = null) {\n  return set({}, {\n    ...identity(),\n    version: VERSION,\n    mode: DEFAULT_MODE,\n    focus: false,\n    pinchPointDistance: null,\n    prePinchMode: null,\n    viewerWidth,\n    viewerHeight,\n    SVGMinX,\n    SVGMinY,\n    SVGWidth,\n    SVGHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    miniatureOpen: true,\n    lastAction: null,\n  });\n}\n\n/**\n * Change value\n * @param value\n * @param patch\n * @param action\n * @returns {Object}\n */\nexport function set(value, patch, action = null) {\n  value = Object.assign({}, value, patch, {lastAction: action});\n  return Object.freeze(value);\n}\n\n/**\n * value valid check\n * @param value\n */\nexport function isValueValid(value) {\n  return value !== null\n    && typeof value === 'object'\n    && value.hasOwnProperty('version')\n    && value.version === VERSION;\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param value\n * @param viewerX\n * @param viewerY\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(value, viewerX, viewerY) {\n  let matrix = fromObject(value);\n\n  let inverseMatrix = inverse(matrix);\n  return applyToPoint(inverseMatrix, {x: viewerX, y: viewerY});\n}\n\n/**\n * Decompose matrix from value\n * @param value\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(value) {\n  let matrix = fromObject(value);\n\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n *\n * @param value\n * @param focus\n * @returns {Object}\n */\nexport function setFocus(value, focus) {\n  return set(value, {focus});\n}\n\n\n/**\n *\n * @param value\n * @param viewerWidth\n * @param viewerHeight\n * @returns {Object}\n */\nexport function setViewerSize(value, viewerWidth, viewerHeight) {\n  return set(value, {viewerWidth, viewerHeight});\n}\n\n/**\n *\n * @param value\n * @param SVGMinX\n * @param SVGMinY\n * @param SVGWidth\n * @param SVGHeight\n * @returns {Object}\n */\nexport function setSVGViewBox(value, SVGMinX, SVGMinY, SVGWidth, SVGHeight) {\n  return set(value, {SVGMinX, SVGMinY, SVGWidth, SVGHeight});\n}\n\n/**\n *\n * @param value\n * @param scaleFactorMin\n * @param scaleFactorMax\n * @returns {Object}\n */\n//TODO rename to setZoomLimits\nexport function setZoomLevels(value, scaleFactorMin, scaleFactorMax) {\n  return set(value, {scaleFactorMin, scaleFactorMax});\n}\n\n/**\n *\n * @param value\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(value, SVGPointX, SVGPointY, zoomLevel) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function reset(value) {\n  return set(value, {\n    mode: MODE_IDLE,\n    ...identity()\n  });\n}\n\n/**\n *\n * @param value\n * @returns {Object}\n */\nexport function resetMode(value) {\n  return set(value, {\n    mode: DEFAULT_MODE,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  })\n}\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point) ? [\n    matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n    matrix.b * point[0] + matrix.d * point[1] + matrix.f\n  ] : {\n    x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n    y: matrix.b * point.x + matrix.d * point.y + matrix.f\n  }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined) {\n  if (isUndefined(sy)) sy = sx\n  return {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by PEG.js v0.11.0-master.30f3260, https://pegjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.location = location;\n  this.name = \"SyntaxError\";\n\n  // istanbul ignore next\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    },\n\n    not: function(expectation) {\n      return \"not \" + describeExpectation(expectation.expected);\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e11 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e12 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e13 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n        return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n      };\n  var peg$f3 = function(tx, ty) {\n        var t = {type: 'translate', tx: tx};\n        if (ty) t.ty = ty;\n        return [t];\n      };\n  var peg$f4 = function(sx, sy) {\n        var s = {type:'scale', sx: sx};\n        if (sy) s.sy = sy;\n        return [s];\n      };\n  var peg$f5 = function(angle, c) {\n        var r = {type:'rotate', angle: angle};\n        if (c) {\n          r.cx = c[0];\n          r.cy = c[1];\n        }\n        return [r];\n      };\n  var peg$f6 = function(angle) {\n        return [{type: 'skewX', angle: angle}];\n      };\n  var peg$f7 = function(angle) {\n        return [{type: 'skewY', angle: angle}];\n      };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f14 = function(d) { return d.join(\"\"); };\n\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$expected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return [peg$savedPos, peg$currPos];\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  var peg$VALIDFILENAME = typeof options.filename === \"string\" && options.filename.length > 0;\n  function peg$computeLocation(startPos, endPos) {\n    var loc = {};\n\n    if ( peg$VALIDFILENAME ) loc.filename = options.filename;\n\n    var startPosDetails = peg$computePosDetails(startPos);\n    loc.start = {\n      offset: startPos,\n      line: startPosDetails.line,\n      column: startPosDetails.column\n    };\n\n    var endPosDetails = peg$computePosDetails(endPos);\n    loc.end = {\n      offset: endPos,\n      line: endPosDetails.line,\n      column: endPosDetails.column\n    };\n\n    return loc;\n  }\n\n  function peg$begin() {\n    peg$expected.push({ pos: peg$currPos, variants: [] });\n  }\n\n  function peg$expect(expected) {\n    var top = peg$expected[peg$expected.length - 1];\n\n    if (peg$currPos < top.pos) { return; }\n\n    if (peg$currPos > top.pos) {\n      top.pos = peg$currPos;\n      top.variants = [];\n    }\n\n    top.variants.push(expected);\n  }\n\n  function peg$end(invert) {\n    var expected = peg$expected.pop();\n    var top = peg$expected[peg$expected.length - 1];\n    var variants = expected.variants;\n\n    if (top.pos !== expected.pos) { return; }\n\n    if (invert) {\n      variants = variants.map(function(e) {\n        return e.type === \"not\" ? e.expected : { type: \"not\", expected: e };\n      });\n    }\n\n    Array.prototype.push.apply(top.variants, variants);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$buildError() {\n    var expected = peg$expected[0];\n    var failPos = expected.pos;\n\n    return peg$buildStructuredError(\n      expected.variants,\n      failPos < input.length ? input.charAt(failPos) : null,\n      failPos < input.length\n        ? peg$computeLocation(failPos, failPos + 1)\n        : peg$computeLocation(failPos, failPos)\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e0);\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              rule$expects(peg$e2);\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e3);\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e4);\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e5);\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e6);\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e7);\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e8);\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s1 = [s1, s2];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e9);\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f13(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e10);\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        s1 = [s1, s2, s3];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e11);\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e12);\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e13);\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  peg$begin();\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$expect(peg$endExpectation());\n    }\n\n    throw peg$buildError();\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n  peg$parse as parse\n};\n\nexport default {\n  SyntaxError: peg$SyntaxError,\n  parse: peg$parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","export * from './applyToPoint'\nexport * from './fromObject'\nexport * from './fromString'\nexport * from './identity'\nexport * from './inverse'\nexport * from './isAffineMatrix'\nexport * from './rotate'\nexport * from './scale'\nexport * from './shear'\nexport * from './skew'\nexport * from './toString'\nexport * from './transform'\nexport * from './translate'\nexport * from './fromTriangles'\nexport * from './smoothMatrix'\nexport * from './fromDefinition'\nexport * from './fromTransformAttribute'\n","import {fromObject, scale, transform, translate} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM, ALIGN_COVER\n} from '../constants';\nimport {decompose, getSVGPoint, set} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nexport function isZoomLevelGoingOutOfBounds(value, scaleFactor) {\n  const {scaleFactor: curScaleFactor} = decompose(value)\n  const lessThanScaleFactorMin = value.scaleFactorMin && (curScaleFactor * scaleFactor) < value.scaleFactorMin;\n  const moreThanScaleFactorMax = value.scaleFactorMax && (curScaleFactor * scaleFactor) > value.scaleFactorMax;\n\n  return (lessThanScaleFactorMin && scaleFactor < 1) || (moreThanScaleFactorMax && scaleFactor > 1);\n}\n\nexport function limitZoomLevel(value, matrix) {\n  let scaleLevel = matrix.a;\n\n  if(value.scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, value.scaleFactorMin);\n  }\n\n  if(value.scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, value.scaleFactorMax);\n  }\n\n  return set(matrix, {\n    a: scaleLevel,\n    d: scaleLevel\n  });\n}\n\nexport function zoom(value, SVGPointX, SVGPointY, scaleFactor) {\n  if (isZoomLevelGoingOutOfBounds(value, scaleFactor)) {\n      // Do not change translation and scale of value\n      return value;\n  }\n\n  const matrix = transform(\n    fromObject(value),\n    translate(SVGPointX, SVGPointY),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPointX, -SVGPointY)\n  );\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\n//ENHANCEMENT: add ability to control alignment\n//ENHANCEMENT: add ability to selectively fit image inside viewer\n//ENHANCEMENT: refactor some logic in order to merge with fitToViewer function\nexport function fitSelection(value, selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n  let {viewerWidth, viewerHeight} = value;\n\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const matrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function fitToViewer(value, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  let {viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight} = value;\n\n  let scaleX = viewerWidth / SVGWidth;\n  let scaleY = viewerHeight / SVGHeight;\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  let scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n // after fitting, SVG and the viewer will match in width (1) or in height (2) or SVG will cover the container with preserving aspect ratio (0)\n if (scaleX < scaleY) {\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleY, scaleY); // (0) we must now match to short edge, in this case - height\n        let remainderX = viewerWidth - scaleY * SVGWidth; // calculate remainder in the other scale\n\n        translateX = SVGMinX + Math.round(remainderX / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  } else {\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n\n      case ALIGN_COVER:\n        scaleMatrix = scale(scaleX, scaleX); // (0) we must now match to short edge, in this case - width\n        let remainderY = viewerHeight - scaleX * SVGHeight; // calculate remainder in the other scale\n\n        translateY = SVGMinY + Math.round(remainderY / 2); // center by the long edge\n      break;\n\n      default:\n        //no op\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(value, scaleLevel / value.d)) {\n    // Do not allow scale and translation\n    return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    });\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null\n  }, ACTION_ZOOM);\n}\n\nexport function zoomOnViewerCenter(value, scaleFactor) {\n  let {viewerWidth, viewerHeight} = value;\n  let SVGPoint = getSVGPoint(value, viewerWidth / 2, viewerHeight / 2);\n  return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n}\n\nexport function startZooming(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_ZOOMING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function updateZooming(value, viewerX, viewerY) {\n  if (value.mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + value.mode);\n\n  return set(value, {\n    endX: viewerX,\n    endY: viewerY\n  });\n}\n\nexport function stopZooming(value, viewerX, viewerY, scaleFactor) {\n  const TOLERATED_DISTANCE = 7 //minimum distance to choose if area selection or drill down on point\n  let {startX, startY} = value;\n\n  let start = getSVGPoint(value, startX, startY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  if (Math.abs(startX - viewerX) > TOLERATED_DISTANCE && Math.abs(startY - viewerY) > TOLERATED_DISTANCE) {\n    let box = calculateBox(start, end);\n    return fitSelection(value, box.x, box.y, box.width, box.height);\n  } else {\n    let SVGPoint = getSVGPoint(value, viewerX, viewerY);\n    return zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor);\n  }\n}\n","import {MODE_PANNING, MODE_ZOOMING, TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,} from '../constants';\nimport {getSVGPoint, setFocus} from './common';\nimport {autoPanIfNeeded, startPanning, stopPanning, updatePanning} from './pan';\nimport {startZooming, stopZooming, updateZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\nexport function getMousePosition(event, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = event.clientX - Math.round(left);\n  let y = event.clientY - Math.round(top);\n  return {x, y}\n}\n\nexport function onMouseDown(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      let SVGPoint = getSVGPoint(value, x, y);\n      nextValue = zoom(value, SVGPoint.x, SVGPoint.y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(value, x, y);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(value, x, y, props.scaleFactor, props) : updateZooming(value, x, y);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning(value) : updatePanning(value, x, y, props.preventPanOutside ? 20 : undefined);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, 1 / props.scaleFactor, props);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (value.mode === MODE_ZOOMING)\n        nextValue = stopZooming(value, x, y, props.scaleFactor, props);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (value.mode === MODE_PANNING)\n        nextValue = stopPanning(value);\n      break;\n\n    default:\n      return value;\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  let nextValue = value;\n\n  if (tool === TOOL_AUTO && !props.disableDoubleClickZoomWithToolAuto) {\n    const {modifierKeys = []} = props;\n    let SVGPoint = getSVGPoint(value, x, y);\n    let modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n    let modifierKeyActive = modifierKeys.reduce(modifierKeysReducer, false);\n    let scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n    nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, ViewerDOM, tool, value, props, coords = null) {\n  const {x, y} = coords || getMousePosition(event, ViewerDOM)\n\n  if (!props.detectWheel) return value;\n\n  let delta = Math.max(-1, Math.min(1, event.deltaY));\n  let scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n\n  let SVGPoint = getSVGPoint(value, x, y);\n  let nextValue = zoom(value, SVGPoint.x, SVGPoint.y, scaleFactor, props);\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseEnterOrLeave(event, ViewerDOM, tool, value, props, coords = null) {\n  let nextValue = setFocus(value, event.type === 'mouseenter');\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onInterval(event, ViewerDOM, tool, value, props, coords = null) {\n  let {x, y} = coords;\n\n  if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return value;\n  if (!props.detectAutoPan) return value;\n  if (!value.focus) return value;\n\n  return autoPanIfNeeded(value, x, y);\n}\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING} from '../constants';\nimport {set, getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints} from 'transformation-matrix';\n\n/**\n * Atomic pan operation\n * @param value\n * @param SVGDeltaX drag movement\n * @param SVGDeltaY drag movement\n * @param panLimit forces the image to keep at least x pixel inside the viewer\n * @returns {Object}\n */\nexport function pan(value, SVGDeltaX, SVGDeltaY, panLimit = undefined) {\n\n  let matrix = transform(\n    fromObject(value),              //2\n    translate(SVGDeltaX, SVGDeltaY) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: value.SVGMinX + panLimit, y: value.SVGMinY + panLimit},\n      {x: value.SVGMinX + value.SVGWidth - panLimit, y: value.SVGMinY + value.SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (value.viewerWidth - x1 < 0)\n      moveX = value.viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (value.viewerHeight - y1 < 0)\n      moveY = value.viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n\n  return set(value, {\n    mode: MODE_IDLE,\n    ...matrix,\n  }, ACTION_PAN);\n}\n\n/**\n * Start pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<unknown>}\n */\nexport function startPanning(value, viewerX, viewerY) {\n  return set(value, {\n    mode: MODE_PANNING,\n    startX: viewerX,\n    startY: viewerY,\n    endX: viewerX,\n    endY: viewerY\n  }, ACTION_PAN);\n}\n\n/**\n * Continue pan operation lifecycle\n * @param value\n * @param viewerX\n * @param viewerY\n * @param panLimit\n * @return {ReadonlyArray<unknown>}\n */\nexport function updatePanning(value, viewerX, viewerY, panLimit) {\n  if (value.mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + value.mode);\n\n  let {endX, endY} = value;\n\n  let start = getSVGPoint(value, endX, endY);\n  let end = getSVGPoint(value, viewerX, viewerY);\n\n  let deltaX = end.x - start.x;\n  let deltaY = end.y - start.y;\n\n  let nextValue = pan(value, deltaX, deltaY, panLimit);\n  return set(nextValue, {\n    mode: MODE_PANNING,\n    endX: viewerX,\n    endY: viewerY,\n  }, ACTION_PAN);\n}\n\n/**\n * Stop pan operation lifecycle\n * @param value\n * @return {ReadonlyArray<unknown>}\n */\nexport function stopPanning(value) {\n  return set(value, {\n      mode: MODE_IDLE,\n      startX: null,\n      startY: null,\n      endX: null,\n      endY: null\n    }, ACTION_PAN\n  );\n}\n\n/**\n * when pointer is on viewer edge -> pan image\n * @param value\n * @param viewerX\n * @param viewerY\n * @return {ReadonlyArray<any>}\n */\nexport function autoPanIfNeeded(value, viewerX, viewerY) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (viewerY <= 20) deltaY = 2;\n  if (value.viewerWidth - viewerX <= 20) deltaX = -2;\n  if (value.viewerHeight - viewerY <= 20) deltaY = -2;\n  if (viewerX <= 20) deltaX = 2;\n\n  deltaX = deltaX / value.d;\n  deltaY = deltaY / value.d;\n\n  return (deltaX === 0 && deltaY === 0) ? value : pan(value, deltaX, deltaY);\n}\n","import {set} from './common';\n\n\nexport function openMiniature(value) {\n  return set(value, {\n    miniatureOpen: true\n  });\n}\n\nexport function closeMiniature(value) {\n  return set(value, {\n    miniatureOpen: false\n  });\n}\n\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/master'\n\nconst doc_v1_to_v2 = github_base + '/docs/migrate-from-v1-to-v2.md'\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipNoViewer() {\n  console.error(`HEY! You are trying to use an older version of ReactSVGPanZoom. Please read here ${doc_v1_to_v2}`)\n}\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (\n    isNullOrUndefined(props.tool) ||\n    isNullOrUndefined(props.value)\n  ) tipControlledComponent()\n\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {\n  getDefaultValue,\n  isValueValid,\n  reset,\n  setPointOnViewerCenter,\n  setSVGViewBox,\n  setViewerSize,\n  setZoomLevels\n} from './features/common';\nimport {\n  onDoubleClick,\n  onInterval,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/parseViewBox';\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nexport default class ReactSVGPanZoom extends React.Component {\n\n  constructor(props, context) {\n    const {width: viewerWidth, height: viewerHeight, scaleFactorMin, scaleFactorMax, children} = props;\n    const {viewBox: SVGViewBox} = children.props;\n    let defaultValue;\n    if (SVGViewBox) {\n      const [SVGMinX, SVGMinY, SVGWidth, SVGHeight] = parseViewBox(SVGViewBox);\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, SVGMinX, SVGMinY, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    } else {\n      const {width: SVGWidth, height: SVGHeight} = children.props;\n      defaultValue = getDefaultValue(viewerWidth, viewerHeight, 0, 0, SVGWidth, SVGHeight, scaleFactorMin, scaleFactorMax)\n    }\n\n    super(props, context);\n    this.ViewerDOM = null;\n    this.state = {\n      pointerX: null,\n      pointerY: null,\n      defaultValue\n    }\n    this.autoPanLoop = this.autoPanLoop.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n  }\n\n  /** React hooks **/\n  componentDidUpdate(prevProps) {\n    const value = this.getValue();\n    const props = this.props\n\n    let nextValue = value;\n    let needUpdate = false;\n\n    if (process.env.NODE_ENV !== 'production') {\n      printMigrationTipsRelatedToProps(props)\n    }\n\n    // This block checks the size of the SVG\n    const {viewBox: SVGViewBox} = props.children.props;\n    if (SVGViewBox) {\n      // if the viewBox prop is specified\n      const [x, y, width, height] = parseViewBox(SVGViewBox);\n\n      if(value.SVGMinX !== x || value.SVGMinY !== y || value.SVGWidth !== width || value.SVGHeight !== height) {\n        nextValue = setSVGViewBox(nextValue, x, y, width, height);\n        needUpdate = true;\n      }\n    } else {\n      // if the width and height props are specified\n      const {width: SVGWidth, height: SVGHeight} = props.children.props;\n      if (value.SVGWidth !== SVGWidth || value.SVGHeight !== SVGHeight) {\n        nextValue = setSVGViewBox(nextValue, 0, 0, SVGWidth, SVGHeight);\n        needUpdate = true;\n      }\n    }\n\n    // This block checks the size of the viewer\n    if (\n      prevProps.width !== props.width ||\n      prevProps.height !== props.height\n    ) {\n      nextValue = setViewerSize(nextValue, props.width, props.height);\n      needUpdate = true;\n    }\n\n    // This blocks checks the scale factors\n    if (\n      prevProps.scaleFactorMin !== props.scaleFactorMin ||\n      prevProps.scaleFactorMax !== props.scaleFactorMax\n    ) {\n      nextValue = setZoomLevels(nextValue, props.scaleFactorMin, props.scaleFactorMax);\n      needUpdate = true;\n    }\n\n    if (needUpdate) {\n      this.setValue(nextValue);\n    }\n  }\n\n  componentDidMount() {\n    this.autoPanIsRunning = true;\n    requestAnimationFrame(this.autoPanLoop);\n    this.ViewerDOM.addEventListener('wheel', this.onWheel, false);\n  }\n\n  componentWillUnmount() {\n    this.autoPanIsRunning = false;\n    this.ViewerDOM.removeEventListener('wheel', this.onWheel);\n  }\n\n  /** ReactSVGPanZoom handlers **/\n  getValue() {\n    if (isValueValid(this.props.value)) return this.props.value\n    return this.state.defaultValue\n  }\n\n  getTool() {\n    if (this.props.tool) return this.props.tool\n    return TOOL_NONE\n  }\n\n  setValue(nextValue) {\n    let {onChangeValue, onZoom, onPan} = this.props;\n\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }\n\n  /** ReactSVGPanZoom methods **/\n  pan(SVGDeltaX, SVGDeltaY) {\n    let nextValue = pan(this.getValue(), SVGDeltaX, SVGDeltaY);\n    this.setValue(nextValue);\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    let nextValue = zoom(this.getValue(), SVGPointX, SVGPointY, scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    let nextValue = fitSelection(this.getValue(), selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight);\n    this.setValue(nextValue);\n  }\n\n  fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n    let nextValue = fitToViewer(this.getValue(), SVGAlignX, SVGAlignY);\n    this.setValue(nextValue);\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    let nextValue = zoomOnViewerCenter(this.getValue(), scaleFactor);\n    this.setValue(nextValue);\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    let nextValue = setPointOnViewerCenter(this.getValue(), SVGPointX, SVGPointY, zoomLevel);\n    this.setValue(nextValue);\n  }\n\n  reset() {\n    let nextValue = reset(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  openMiniature() {\n    let nextValue = openMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  closeMiniature() {\n    let nextValue = closeMiniature(this.getValue());\n    this.setValue(nextValue);\n  }\n\n  /** ReactSVGPanZoom internals **/\n  handleViewerEvent(event) {\n    let {props, ViewerDOM} = this;\n\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(this.getTool()) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    let onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, props.value, ViewerDOM));\n  }\n\n  autoPanLoop() {\n    let coords = {x: this.state.pointerX, y: this.state.pointerY};\n    let nextValue = onInterval(null, this.ViewerDOM, this.getTool(), this.getValue(), this.props, coords);\n    if (this.getValue() !== nextValue) {\n      this.setValue(nextValue);\n    }\n\n    if (this.autoPanIsRunning) {\n      requestAnimationFrame(this.autoPanLoop);\n    }\n  }\n\n  onWheel(event) {\n    let nextValue = onWheel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n    if (this.getValue() !== nextValue) this.setValue(nextValue);\n  }\n\n  /** React renderer **/\n  render() {\n    let {props, state: {pointerX, pointerY}} = this;\n    let tool = this.getTool();\n    let value = this.getValue();\n    let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n    let panningWithToolAuto = tool === TOOL_AUTO\n      && value.mode === MODE_PANNING\n      && value.startX !== value.endX\n      && value.startY !== value.endY;\n\n    let cursor;\n\n    if (tool === TOOL_PAN)\n      cursor = cursorPolyfill(value.mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n    if (tool === TOOL_ZOOM_IN)\n      cursor = cursorPolyfill('zoom-in');\n\n    if (tool === TOOL_ZOOM_OUT)\n      cursor = cursorPolyfill('zoom-out');\n\n    if (panningWithToolAuto)\n      cursor = cursorPolyfill('grabbing');\n\n    // let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n    // blockChildEvents = blockChildEvents || panningWithToolAuto;\n    const blockChildEvents = false;\n\n    const touchAction = (this.props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(this.getTool()) !== -1) ? 'none' : undefined\n\n    const style = {display: 'block', cursor, touchAction};\n\n    return (\n      <div\n        style={{position: \"relative\", width: value.viewerWidth, height: value.viewerHeight, ...props.style}}\n        className={this.props.className}>\n        <svg\n          ref={ViewerDOM => this.ViewerDOM = ViewerDOM}\n          width={value.viewerWidth}\n          height={value.viewerHeight}\n          style={style}\n\n          onMouseDown={event => {\n            let nextValue = onMouseDown(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onMouseMove={event => {\n            let {left, top} = this.ViewerDOM.getBoundingClientRect();\n            let x = event.clientX - Math.round(left);\n            let y = event.clientY - Math.round(top);\n\n            let nextValue = onMouseMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props, {x, y});\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.setState({pointerX: x, pointerY: y});\n            this.handleViewerEvent(event);\n          }}\n          onMouseUp={event => {\n            let nextValue = onMouseUp(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onClick={event => {\n            this.handleViewerEvent(event)\n          }}\n          onDoubleClick={event => {\n            let nextValue = onDoubleClick(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n\n          onMouseEnter={event => {\n            if (detectTouch()) return;\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n          onMouseLeave={event => {\n            let nextValue = onMouseEnterOrLeave(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n          }}\n\n          onTouchStart={event => {\n            let nextValue = onTouchStart(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchMove={event => {\n            let nextValue = onTouchMove(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchEnd={event => {\n            let nextValue = onTouchEnd(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}\n          onTouchCancel={event => {\n            let nextValue = onTouchCancel(event, this.ViewerDOM, this.getTool(), this.getValue(), this.props);\n            if (this.getValue() !== nextValue) this.setValue(nextValue);\n            this.handleViewerEvent(event);\n          }}>\n\n          <rect\n            fill={props.background}\n            x={0}\n            y={0}\n            width={value.viewerWidth}\n            height={value.viewerHeight}\n            style={{pointerEvents: \"none\"}}\n          />\n\n          <g\n            transform={toSVG(value)}\n            style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n            <rect\n              fill={this.props.SVGBackground}\n              style={this.props.SVGStyle}\n              x={value.SVGMinX || 0}\n              y={value.SVGMinY || 0}\n              width={value.SVGWidth}\n              height={value.SVGHeight}/>\n            <g>\n              {props.children.props.children}\n            </g>\n          </g>\n\n          {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan && value.focus) ? null : (\n            <g style={{pointerEvents: \"none\"}}>\n              {!(pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_TOP} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerWidth - pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_RIGHT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.viewerHeight - pointerY <= 20) ? null :\n                <BorderGradient direction={POSITION_BOTTOM} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n\n              {!(value.focus && pointerX <= 20) ? null :\n                <BorderGradient direction={POSITION_LEFT} width={value.viewerWidth} height={value.viewerHeight}/>\n              }\n            </g>\n          )}\n\n          {!(value.mode === MODE_ZOOMING) ? null :\n            <Selection startX={value.startX} startY={value.startY} endX={value.endX} endY={value.endY}/>\n          }\n        </svg>\n\n        {props.toolbarProps.position === POSITION_NONE ? null :\n          <CustomToolbar\n            {...this.props.toolbarProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            tool={tool}\n            onChangeTool={tool => this.props.onChangeTool(tool)}\n          />}\n\n        {props.miniatureProps.position === POSITION_NONE ? null :\n          <CustomMiniature\n            {...this.props.miniatureProps}\n            value={value}\n            onChangeValue={value => this.setValue(value)}\n            SVGBackground={this.props.SVGBackground}\n          >\n            {props.children.props.children}\n          </CustomMiniature>\n        }\n      </div>\n    );\n  }\n}\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //value of the viewer (current camera view)\n  value: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.shape({\n      version: PropTypes.oneOf([2]).isRequired,\n      mode: PropTypes.oneOf([MODE_IDLE, MODE_PANNING, MODE_ZOOMING]).isRequired,\n      focus: PropTypes.bool.isRequired,\n      a: PropTypes.number.isRequired,\n      b: PropTypes.number.isRequired,\n      c: PropTypes.number.isRequired,\n      d: PropTypes.number.isRequired,\n      e: PropTypes.number.isRequired,\n      f: PropTypes.number.isRequired,\n      viewerWidth: PropTypes.number.isRequired,\n      viewerHeight: PropTypes.number.isRequired,\n      SVGMinX: PropTypes.number.isRequired,\n      SVGMinY: PropTypes.number.isRequired,\n      SVGWidth: PropTypes.number.isRequired,\n      SVGHeight: PropTypes.number.isRequired,\n      startX: PropTypes.number,\n      startY: PropTypes.number,\n      endX: PropTypes.number,\n      endY: PropTypes.number,\n      miniatureOpen: PropTypes.bool.isRequired,\n    })\n  ]).isRequired,\n\n  //handler something changed\n  onChangeValue: PropTypes.func.isRequired,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func.isRequired,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //style of the svg\n  SVGStyle: PropTypes.object,\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n\n  //handler pan action performed\n  onPan: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature props\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n    activeToolColor: PropTypes.string,\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  customToolbar: Toolbar,\n  toolbarProps: {},\n  customMiniature: Miniature,\n  miniatureProps: {},\n};\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, value, SVGViewer) {\n    this.originalEvent = originalEvent;\n    this.value = value;\n    this.SVGViewer = SVGViewer;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.value);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","import React from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  class RandomUID extends React.Component {\n    constructor(props) {\n      super(props)\n      this.state = {uid: nextUID()}\n    }\n\n    render() {\n      return <WrappedComponent _uid={this.state.uid} {...this.props}/>\n    }\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport {fitToViewer} from '../features/zoom';\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, value, onChangeValue, onChangeTool, activeToolColor, position, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    onChangeValue(fitToViewer(value, SVGAlignX, SVGAlignY));\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        activeColor={activeToolColor}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        activeColor={activeToolColor}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        activeColor={activeToolColor}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        activeColor={activeToolColor}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n  SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n  SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  activeToolColor: PropTypes.string\n};\n\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n  SVGAlignX: ALIGN_LEFT,\n  SVGAlignY: ALIGN_TOP,\n  activeToolColor: '#1CA6FC'\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nexport default function Miniature(props) {\n\n  let {value, onChangeValue, children, position, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  let {SVGMinX, SVGMinY, SVGWidth, SVGHeight, viewerWidth, viewerHeight} = value;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(value), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (value.miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton value={value} onChangeValue={onChangeValue} position={position}/>\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80,\n}\n","import {tipNoViewer} from \"./migration-tips\";\n\nexport {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  tipNoViewer()\n  return null;\n};\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function eventFactory(originalEvent, value, SVGViewer) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, value, SVGViewer);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, value, SVGViewer);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import ViewerEvent from './viewer-event';\nimport {getMousePosition} from \"../features/interactions\";\nimport {getSVGPoint} from \"../features/common\";\n\nexport default class ViewerMouseEvent extends ViewerEvent {\n  get point() {\n    if (!this._cachePoint) {\n      const {originalEvent: event, SVGViewer, value} = this;\n      const mousePosition = getMousePosition(event, SVGViewer)\n      this._cachePoint = getSVGPoint(value, mousePosition.x, mousePosition.y);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","/**\n * Convert (re-map) an input value range into a destination range.\n * @param value\n * @param sourceStart\n * @param sourceEnd\n * @param targetStart\n * @param targetEnd\n * @return number\n */\n\nexport default function mapRange(value, sourceStart, sourceEnd, targetStart, targetEnd) {\n  return targetStart + (targetEnd - targetStart) * (value - sourceStart) / (sourceEnd - sourceStart);\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.SVGViewer, this.value);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.SVGViewer, this.value);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, SVGViewer, value) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let rect = SVGViewer.getBoundingClientRect();\n      let x = touch.clientX - Math.round(rect.left);\n      let y = touch.clientY - Math.round(rect.top);\n\n      let point = getSVGPoint(value, x, y);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","export default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number); // cast to Number\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint, set} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction getTouchPosition(touch, ViewerDOM) {\n  let {left, top} = ViewerDOM.getBoundingClientRect();\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nexport function onTouchStart(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0){\n      return resetMode(value);\n    } else if([MODE_IDLE].indexOf(value.mode) >= 0){\n      return value;\n    }\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseDown);\n}\n\nexport function onTouchMove(event, ViewerDOM, tool, value, props) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, ViewerDOM, tool, value, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, value, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, ViewerDOM, tool, value, props) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(value.mode) >= 0)) {\n    return value;\n  }\n\n  let nextValue = shouldResetPinchPointDistance(event, value, props) ? set(value, { pinchPointDistance: null }) : value;\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return onSingleTouch(event, ViewerDOM, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, ViewerDOM, tool, value, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode(value);\n}\n\nfunction hasPinchPointDistance(value) {\n  return typeof value.pinchPointDistance === 'number';\n}\n\nfunction shouldResetPinchPointDistance(event, value, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(value) && event.touches.length < 2;\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction onSingleTouch(event, ViewerDOM, tool, value, props, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? set(value, { mode: value.prePinchMode ? MODE_IDLE : value.mode, prePinchMode: null }) : value;\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, ViewerDOM);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, ViewerDOM, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nfunction onMultiTouch(event, ViewerDOM, tool, value, props) {\n  const {left, top} = ViewerDOM.getBoundingClientRect();\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const pinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(value) ? value.pinchPointDistance : pinchPointDistance;\n  const svgPoint = getSVGPoint(value, (x1 + x2) / 2, (y1 + y2) / 2);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(value, distanceFactor)) {\n    // Do not change translation and scale of value\n    return value;\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let matrix = transform(\n    fromObject(value),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return set(value, set({\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(value, matrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: value.prePinchMode ? value.prePinchMode : value.mode,\n    pinchPointDistance\n  }));\n}\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid}) {\n\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n    default:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`}} transform={transform}/>\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nexport default class ToolbarButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hover: false};\n  }\n\n  change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        this.setState({hover: true});\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        this.setState({hover: false});\n        break;\n      default:\n        //noop\n    }\n  }\n\n  render() {\n    let style = {\n      display: \"block\",\n      width: \"24px\",\n      height: \"24px\",\n      margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(this.props.toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n      color: this.props.active || this.state.hover ? this.props.activeColor : '#FFF',\n      transition: \"color 200ms ease\",\n      background: \"none\",\n      padding: \"0px\",\n      border: \"0px\",\n      outline: \"0px\",\n      cursor: \"pointer\"\n    };\n\n    return (\n      <button\n        onMouseEnter={e => this.change(e)}\n        onMouseLeave={e => this.change(e)}\n\n        onTouchStart={e => {\n          this.change(e);\n          this.props.onClick(e);\n        }}\n        onTouchEnd={e => this.change(e)}\n        onTouchCancel={e => this.change(e)}\n\n        onClick={this.props.onClick}\n\n        style={style}\n        title={this.props.title}\n        name={this.props.name}\n        type=\"button\"\n      >{this.props.children}</button>\n    )\n  }\n\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  activeColor: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({value, onChangeValue, position}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  let action = value.miniatureOpen ? closeMiniature : openMiniature;\n\n  return (\n    <button type=\"button\" style={style} onClick={() => onChangeValue(action(value))}>\n      <IconArrow open={value.miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n      break;\n\n    default:\n      //no op\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nexport default class UncontrolledReactSVGPanZoom extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.defaultValue || {},\n      tool: props.defaultTool || TOOL_NONE,\n    }\n\n    this.Viewer = null;\n    this.changeTool = this.changeTool.bind(this)\n    this.changeValue = this.changeValue.bind(this)\n  }\n\n  changeTool(tool) {\n    this.setState({tool})\n  }\n\n  changeValue(value) {\n    this.setState({value})\n  }\n\n  pan(SVGDeltaX, SVGDeltaY) {\n    this.Viewer.pan(SVGDeltaX, SVGDeltaY)\n  }\n\n  zoom(SVGPointX, SVGPointY, scaleFactor) {\n    this.Viewer.zoom(SVGPointX, SVGPointY, scaleFactor)\n  }\n\n  fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n    this.Viewer.fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight)\n  }\n\n  fitToViewer(SVGAlignX, SVGAlignY) {\n    this.Viewer.fitToViewer(SVGAlignX, SVGAlignY)\n  }\n\n  zoomOnViewerCenter(scaleFactor) {\n    this.Viewer.zoomOnViewerCenter(scaleFactor)\n  }\n\n  setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n    this.Viewer.setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel)\n  }\n\n  reset() {\n    this.Viewer.reset()\n  }\n\n  openMiniature() {\n    this.Viewer.openMiniature()\n  }\n\n  closeMiniature() {\n    this.Viewer.closeMiniature()\n  }\n\n  render() {\n    const {width, height, onChangeTool, onChangeValue, ...props} = this.props\n    const {tool, value} = this.state\n\n    return (\n      <ReactSVGPanZoom\n        width={width} height={height}\n        tool={tool} onChangeTool={this.changeTool}\n        value={value} onChangeValue={this.changeValue}\n        ref={Viewer => this.Viewer = Viewer}\n        {...props}\n      />\n    )\n  }\n}\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n"],"sourceRoot":""}